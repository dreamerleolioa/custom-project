<ba-card title='管理员' class="col-md-12">
    <div class="card-header clearfix" style="height: 104px;border: 0;">
        <div class="row">
            <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="row">
                    <!--<h3 class="card-title" style="margin-top: 3px;">管理员角色</h3>-->
                    <nav aria-label="breadcrumb" role="navigation">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a
                                    href="#/pages/systemManagement/administratorManagement/administratorPermissions/applyPermissions">管理员角色</a>
                            </li>
                            <li class="breadcrumb-item active" *ngIf="treeStatus === 'normal'">{{role.name}}</li>
                            <li class="breadcrumb-item" *ngIf="treeStatus === 'editted'"><a
                                href="javascript:void(0)" (click)="cancel()">{{role.name}}</a></li>
                            <li class="breadcrumb-item active" *ngIf="treeStatus === 'editted'">应用权限</li>
                        </ol>
                    </nav>
                </div>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="row float-right">
                    <!--这里需要disable吗 -->
                    <!--<button [disabled]="searchButtonStatus" class="btn btn-custom btn-outline-normal"-->
                    <button class="btn btn-custom btn-outline-normal"
                            *ngIf="treeStatus === 'normal'"
                            (click)="preview()"
                            style="margin-right: 9px;">用户清单
                    </button>
                </div>
            </div>

        </div>
        <hr class="full-hr"/>
        <div class="row">
            <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="row">
                    <h3 class="card-title" style="margin-top: 3px;">互联应用管理中心权限</h3>
                </div>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="row float-right">
                    <button class="btn btn-custom btn-primary-normal"
                            *ngIf="treeStatus === 'normal'"
                            (click)="edit()"
                            style="margin-right: 9px;">编辑
                    </button>
                    <button class="btn btn-custom btn-primary-normal"
                            *ngIf="treeStatus === 'editted'"
                            (click)="save()"
                            [disabled]="_changedPermissionActions.length < 1"
                            style="margin-right: 9px;">储存
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="card-body">
        <form id="treeEditForm" name="treeEditForm" #treeEditForm="ngForm">
            <authTree
                    *ngFor="let item of authTreeData"
                    [menuItem]="item"
                    [editStatus]="treeStatus"
                    [isResult]="false"
                    [isIDShow]="true"
                    (childNotification)="getNotify($event)">
            </authTree>
        </form>
    </div>
</ba-card>

<!--预览开窗-->
<ng-template #PreviewModal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <span class="modal-title pull-left" style="font-size: 18px;">用户清单预览</span>
        <button type="button" class="close pull-right" aria-label="Close" (click)="c('Close click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="table-responsive modal-table-query">
            <table class="table table-fixed">
                <thead>
                <tr class="table-title">
                    <!--<th class="table-id id" style="min-width: 160px;">用户 ID</th>-->
                    <!--<th class="content">用户名称</th>-->
                    <th class="table-id id" style="width: 160px;">用户 ID</th>
                    <th class="content">用户名称</th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let user of searchedUsers" class="table-body">
                    <td class="id" style="width: 160px;"> {{user.id}}</td>
                    <td class="content"> {{user.name}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-custom btn-primary-normal" (click)="c('Close click')">确定</button>
    </div>
</ng-template>